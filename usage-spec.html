<!DOCTYPE html>

<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js lt-ie9 lt-ie8" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js lt-ie9" lang="en"> <![endif]-->

<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->

<head>
	<meta charset="UTF-8">
	
	<!-- Remove this line if you use the .htaccess -->
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

	<meta name="viewport" content="width=device-width">
	
	<meta name="description" content="Build a simple opearting system">
	
	<title>Usage // Documentation // eXperimental Operating System</title>
	
	<link rel="shortcut icon" type="image/x-icon" href="favicon.ico">
	<link rel="shortcut icon" type="image/png" href="favicon.png">
	

	<link rel="stylesheet" href="css/style.css">
	
	<!--[if lt IE 9]>
	<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
</head>



<body>
<!-- Prompt IE 7 users to install Chrome Frame -->
<!--[if lt IE 8]><p class=chromeframe>Your browser is <em>ancient!</em> <a href="http://browsehappy.com/">Upgrade to a different browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to experience this site.</p><![endif]-->

<div class="container">

	<header id="navtop">
		<a href="index.html" class="logo fleft">
			<img src="img/logo.png" alt="Designa Studio">
		</a>
		
		<nav class="fright">
			<ul><li><a href="index.html" >Home</a></li>
				<li><a href="about.html">About</a></li>
				<li><a href="documentation.html" class="navactive">Documentation</a></li>
				<li><a href="downloads.html">Downloads</a></li>
				<li><a href="roadmap.html">Roadmap</a></li></ul>
			</ul>
		</nav>
	</header>


	<div class="services-page main grid-wrap">

		<header class="grid col-full">
			<hr>
			<p class="fleft">Usage Documentation</p> <br/><br/>
					<a href="doc/usage.pdf" class="button"> Download as PDF </a>
		</header>


		<aside class="grid col-one-quarter mq2-col-full">
		
			<menu>
				<ul>

					<li><a href="#navintro" class="sec" >Introduction</a></li>
					<li><a href="#navsetup" class="sec" > Setting</a></li>
					<li><a href="#navspl" class="sec" >SPL Compiler</a></li>
						<li><a href="#navspl" class="subsec" >Introduction</a></li>
						<li><a href="#navsplinstall" class="subsec" >Installation</a></li>
					<li><a href="#navapl" class="sec" >APL Compiler</a></li>
						<li><a href="#navapl" class="subsec" >Introduction</a></li>
						<li><a href="#navaplinstall" class="subsec" >Installation</a></li>
					<li><a href="#navxfs" class="sec" >XFS Interface</a></li>
						<li><a href="#navxfs" class="subsec" >Introduction</a></li>
						<li><a href="#navxfsinstall" class="subsec" >Installation</a></li>
						<li><a href="#navxfscommands" class="subsec" >Commands</a></li>
					<li><a href="#navxsm" class="sec" >XSM Simulator</a></li>
						<li><a href="#navxsm" class="subsec" >Introduction</a></li>
						<li><a href="#navxsminstall" class="subsec" >Installation</a></li>
				</ul>
			</menu>
		</aside>
		
		<section class="grid col-three-quarters mq2-col-full">
		
			
			
			<div class="grid-wrap">
			<article  id="navintro" class="grid col-full">
				<h2>Introduction</h2>
				
				<p>This documentation describes the usage instructions for <b>SPL Compiler</b> (System Programmer’s Language Compiler), 
				<b>APL Compiler</b> (Application Programmer’s Language Compiler) , <b>XFS Interface</b> (eXperimental File System Interface) and 
				<b>XSM Simulator</b> (eXperimental String Machine).</p>
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>			

			<article  id="navsetup" class="grid col-full">
				<h2>Setting Up</h2>
				<ol>
				<li> Download the complete package <a href="files/myxos.tar.gz">myxos.tar.gz</a></li>
				<li> Copy the tar file to your home directory. 
				<div class="syntax">
					cp myxos.tar.gz $HOME/
				</div>
				</li>
				<li> Extract the contents using the command. 
				<div class="syntax">
					tar -xvf myxos.tar.gz 
				</div></li>
				Now you will have a directory <tt>myxos</tt> in your home drectory, with all components required for building your own XOS
				<li> Change directory to <tt>myxos</tt> directory </li>
				<div class="syntax">
					cd $HOME/myxos
				</div>	
				<li> Make sure all the pre-requisites which include <b>gcc</b>, <b>flex/lex</b> and <b>bison/yacc</b> are installed. </li>	
				In Ubuntu/Debian systems use <b>apt</b> to install flex and bison.
				<div class="syntax">
					sudo apt-get install flex bison
				</div>	
				<li> Make to build all the components.</li>
				<div class="syntax">
					make
				</div>					
				</ol>

			If the setup worked correctly, the following executables will be created 
			<ul>
				<li> <b>spl</b> in <b>$HOME/myxos/spl</b> folder</li>
				<li> <b>apl</b> in <b>$HOME/myxos/apl</b> folder</li>
				<li> <b>xfs-interface</b> in <b>$HOME/myxos/xfs-interface</b> folder</li>
				<li> <b>xsm</b> in <b>$HOME/myxos/xsm</b> folder</li>
			</ul>
		
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>			
			


			<article  id="navspl" class="grid col-full">
				<h2>SPL Compiler</h2>
				<h4>Introduction</h4>
				<p><b>SPL Compiler</b> (System Programmer’s Language Compiler) is used in the implementation of an operating system on XSM (eXperimental String Machine). The compiler compiles the code written in SPL and translates it 
				into machine code which is simulated on the machine. SPL specification is available <a href="spl-spec.html">here</a>.</p>
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			<article  id="navsplinstall" class="grid col-full">
				<h4>Installation</h4>
				<h6> Prerequisites </h6>
				<ul>
					<li><p> GCC (GNU project C and C++ compiler) </p></li>
					<li><p> Flex / Lex (Fast Lexical Analyser Generator) </p></li>
					<li><p> Bison / Yacc (GNU Project Parser Generator) </p></li>
				</ul> <br/>
				
				<h6> Running </h6>
				<p> Within your spl directory, use the following commands to run the SPL compiler </p>
<ul>
<li><p> <tt>./spl <i>flag</i> <i>path-to-spl-program</i> </tt></p></li> </pre>
</ul>	


				<h6>Flags</h6>
				Any one of these flags is required to compile.
				<ul>
					<li><p> <tt>--os</tt> : Compile OS Code. The compiled output filename will be <b>os_startup.xsm</b></p></li>
					<li><p> <tt>--int=timer</tt> : Compile Timer Interrupt code. The compiled output filename will be <b>timer.xsm</b></p></li>
					<li><p> <tt>--int=[1-7]</tt> : Compile Interrupt routines. The compiled output filename will be <b>int1.xsm, int2.xsm</b>...etc.</p></li>
					<li><p> <tt>--exhandler</tt> : Compile Exception Handler. The compiled output filename will be <b>exhandler.xsm</b></p> </li>

				</ul>	

<h6>Example Usage</h6>

<div class="syntax">
<pre>
cd $HOME/myxos/spl 
./spl --os samples/hello-world.spl 
</pre>
</div>
A file  <tt>os_startup.xsm</tt> is created in <tt>$HOME/myxos/spl/samples/</tt>.

				
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			
			<article  id="navapl" class="grid col-full">
				<h2>APL Compiler</h2>
				<h4>Introduction</h4>
				<p><b>APL Compiler</b> (Application Programmer’s Language Compiler) is used to write programs which can be run on XOS (eXperimental Operating System). The compiler compiles the program written in APL and translates it 
				into machine code which is simulated on the machine. APL specification is available <a href="apl-spec.html">here</a>.</p>
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			<article  id="navaplinstall" class="grid col-full">
				<h4>Installation</h4>
				<h6> Prerequisites </h6>
				<ul>
					<li><p> GCC (GNU project C and C++ compiler) </p></li>
					<li><p> Flex / Lex (Fast Lexical Analyser Generator) </p></li>
					<li><p> Bison / Yacc (GNU Project Parser Generator) </p></li>
				</ul> <br/>
				
				<h6> Running </h6>
				<p>Within your APL directory, use the following commands to run the APL compiler </p>
				<ul>
					<li><p> <tt>./apl path-to-file </tt></p></li>
				</ul> 

				The output file will be in the same location as the input file and filename will be same with the extension changed to <tt>xsm</tt>. For example if input file is <b>prime.apl</b>, output file is <b>prime.xsm</b> <br/><br/>

<h6>Example Usage</h6>

<div class="syntax">
<pre>
cd $HOME/myxos/apl 
./apl samples/largest.apl
</pre>
</div>
The file largest.apl is a sample APL program which finds largest of 4 numbers. This program is compiled to  <tt>$HOME/myxos/apl/samples/largest.xsm</tt>.


			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			
			
			<article  id="navxfs" class="grid col-full">
				<h2>XFS Interface</h2>
				<h4>Introduction</h4>
				<p><b>XFS Interface</b> (eXperimental File System Interface) is an external interface to access the filesystem of the XOS. 
				The filesystem is simulated on a binary file called <b>”disk.xfs”</b>. The interface can format the disk, 
				load/remove files, list files and copy blocks to a UNIX file. See <a href="xfs-spec.html">Filesystem specification</a>.</p>
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			<article  id="navxfsinstall" class="grid col-full">
				<h4>Installation</h4>
				<h6> Prerequisites </h6>
				<ul>
					<li><p> GCC (GNU project C and C++ compiler) </p></li>
				</ul> <br/>
				
				<h6> Running </h6>
				<p> Within your xfs-interface directory, use the following commands to run the interface </p>
				<ul>
					<li><p> <tt>./xfs-interface </tt></p></li>
				</ul> 
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			
			<article  id="navxfscommands" class="grid col-full">
				<h4>Commands</h4>
				<p> Type the command <b>help</b> in the interface to display the list of commands. </p>
				
				<h6> Format the disk </h6>
				<p>The command <b>fdisk</b> is used to create the disk (”disk.xfs”) or to format the disk if already created. 
				On a newly created disk or formatted disk the Disk Free List and FAT entries are initialized. <br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>fdisk</b> </tt></p>
				
				<h6> Load Files </h6>
				<p>The command <b>load</b> is used to load files from the UNIX filesystem to the XFS disk.
				The type of the file that is loaded is specified by the first argument. The second argument &ltpathname&gt 
				is the path to the UNIX file which is to be loaded to the filesystem. <br/>
				The command checks the size of the file (executable or data files) and allocates blocks to it. 
				A corresponding FAT entry is created for the file. For the OS Startup code, Interrupt routines and 
				Exception Handler, the file is loaded to the corresponding location in the disk ( Refer <a href="xfs-spec.html#navdiskorg">disk organization</a> ).</p>
				
				<ul>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --exec &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads an executable file to XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --init &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads INIT code to XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --data &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads a data file to XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --os &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads OS startup code to XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --int=timer &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads Timer Interrupt routine to XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --int=[1-7] &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads the specified Interrupt routine to XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>load</b> --exhandler &ltpathname&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Loads exception handler routine to XFS disk</p></li>
				</ul>
				
				<h6> Remove Files </h6>
				<p> The command <b>rm</b> is used to remove files from the filesystem. The first argument specifies the type of file 
				to be removed. The argument &ltxfs_filename&gt specifies the file which is to be removed.<br/>
				The command searches the FAT entries for the file (executable/data file) and clears the blocks 
				corresponding to the file. In the case of OS Startup code, Interrupt routines and Exception Handler 
				the corresponding blocks in the disk are cleared. </p>
				<ul>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --exec &ltxfs_filename&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes an executable file from XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --init </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes INIT code from XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --data &ltxfs_filename&gt </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes a data file from XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --os </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes OS startup code from XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --int=timer </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes the Timer Interrupt routine from XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --int=[1-7] </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes the specified Interrupt routine from XFS disk </p></li>
					<li><p> <i>Syntax :</i> <tt><b>rm</b> --exhandler </tt><br/>
					&nbsp&nbsp&nbsp&nbsp Removes the exception handler routine from XFS disk </p></li>
				</ul>


				<h6> List Files </h6>
				<p>The command <b>ls</b> lists all the files which are loaded into the filesystem. 
				The size of the file is also displayed in number of words.
				The FAT entries are traversed and all the files and their corresponding sizes are displayed.<br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>ls</b></tt></p>
				
				<h6> Display Disk Free List </h6>
				<p>The command <b>df</b> displays the disk free list. 
				It also displays the total number of blocks and the number of free blocks.<br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>df</b></tt></p>
				
				<h6> Display File contents </h6>
				<p>The command <b>cat</b> displays the contents of a file in the filesystem.
				The FAT entries are searched to get the blocks corresponding to the file. The blocks are displayed.<br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>cat</b> &ltxfs_filename&gt</tt></p>
				
				<h6> Copy disk blocks to a UNIX file </h6>
				<p>The command <b>copy</b> copies the contents of specified blocks in the filesystem to an 
				external UNIX file. The arguments &ltstart_block&gt and &ltend_block&gt denotes the range of blocks to be copied 
				(including both). &ltunix_filename&gt specifes the destination UNIX file to which the contents are copied to.<br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>copy</b> &ltstart_block&gt &ltend_block&gt &ltunix_filename&gt</tt></p>
				
				<h6> Display help </h6>
				<p>The command <b>help</b> displays the general syntax and function of all the commands.<br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>help</b></tt></p>
				
				<h6> Exit Interface </h6>
				<p>The command <b>exit</b> quits the inteface.<br/>
				&nbsp&nbsp&nbsp&nbsp&nbsp<i>Syntax :</i> <tt><b>exit</b></tt></p>
<h6>Example Usage</h6>
To load a file <tt>os_startup.xsm</tt> ( which you created using <b>SPL</b> compiler ) located in <tt>$HOME/myxos/spl</tt> into the <tt>xfs</tt> filesystem	
<div class="syntax">
<pre>
cd $HOME/myxos/xfs-interface
./xfs-interface
</pre>
</div>
This will show the <tt>xfs-interface</tt>. 

First issue a <tt>fdisk</tt> command. This will create a <tt>disk.xfs</tt> file in the directory <tt>$HOME/myxos/xfs-interface</tt>. This file simulates the hard disk for <tt>XSM</tt> (Machine Simulator). 
<div class="syntax">
fdisk
</div>


Now use the <tt>load</tt> command to load the <tt>os_startup.xsm</tt>.
<div class="syntax">
load --os $HOME/myxos/spl/os_startup.xsm
</div>

If you want to see whether load command works properly, copy the block 0 (from 0 to 0) in <b>disk.xfs</b> back to a unix file, say <tt>$HOME/myxos/xfs-interface/test </tt>			
<div class="syntax">
copy 0 0 $HOME/myxos/xfs-interface/test
</div>

Now open test to see the contents of os_startup.xsm

			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			
			<article  id="navxsm" class="grid col-full">
				<h2>XSM Simulator</h2>
				<h4>Introduction</h4>
				<p><b>The XSM Simulator</b> (eXperimental String Machine) is used to simulate the XSM hardware. See <a href="xsm-spec.html">Machine Specification</a></p>
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			<article  id="navxsminstall" class="grid col-full">
				<h4>Installation</h4>
				<h6> Prerequisites </h6>
				<ul>
					<li><p> GCC (GNU project C and C++ compiler) </p></li>
					<li><p> Flex / Lex (Fast Lexical Analyser Generator) </p></li>
					<li><p> Bison / Yacc (GNU Project Parser Generator) </p></li>
				</ul> <br/>
				
				<h6> Running </h6>
				<p> Within your XSM directory, use the following command to run the simulator </p>
				<ul>
					<li><p> <tt>./xsm &ltoptional-flags&gt &ltpath-to-file&gt</tt></p></li>
				</ul> 
				<p>The <tt>&ltoptional-flags&gt</tt> can be : </p>
				<ul>
					<li><p> <tt>--debug </tt>: This flag sets the machine into DEBUG mode. In DEBUG mode, the contents of registers is displayed after each instruction. </p></li>
					<li><p> <tt>--timer=value</tt>: This flag sets the number of instructions after which timer interrupt is triggered to <tt>value</tt>. <b>--timer=0</b> disables the timer. The range of value is from 0 to 1024   </p></li>
				</ul>
			</article>
			<div class="up grid col-one-third" style="float:right">
			<a href="#navtop" title="Go back up"> top &uarr;</a>
			</div>	
			
			
			</div> <!-- 100%articles-->

		
		</section>	
		
		
		
	</div> <!--main-->
<div class="divide-top">
	<footer class="grid-wrap">
		<ul class="grid col-one-third social">
			<li><a href="http://github.com/xosnitc">Github</a></li>
		</ul>
	
		<div class="up grid col-one-third ">
			<a href="#navtop" title="Go back up">&uarr;</a>
		</div>
		
		<nav class="grid col-one-third ">
			<ul><li><a href="index.html" >Home</a></li>
				<li><a href="about.html">About</a></li>
				<li><a href="documentation.html">Documentation</a></li>
				<li><a href="downloads.html">Downloads</a></li>
				<li><a href="roadmap.html">Roadmap</a></li></ul>
			</ul>
		</nav>
	</footer>
</div>

</div>

<!-- Javascript - jQuery -->
<script src="http://code.jquery.com/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-1.7.2.min.js"><\/script>')</script>

<!--[if (gte IE 6)&(lte IE 8)]>
<script src="js/selectivizr.js"></script>
<![endif]-->

<script src="js/scripts.js"></script>

<!-- Asynchronous Google Analytics snippet. Change UA-XXXXX-X to be your site's ID. -->
<script>
  var _gaq=[['_setAccount','UA-XXXXX-X'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>
</body>
</html>
